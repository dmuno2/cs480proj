<!DOCTYPE html>
<html>
<head>
    <title>Top Clients</title>
    <style>
        table {
            border-collapse: collapse;
            margin: 20px auto;
            width: 80%;
        }
        th, td {
            border: 1px solid #000;
            padding: 10px;
            text-align: center;
        }
        h2, form, p {
            text-align: center;
        }
    </style>
</head>
<body>
    <h2>Top Clients by Number of Rentals</h2>

    <form method="POST">
        Enter K (how many top clients?): 
        <input type="number" name="k" min="1" required>
        <input type="submit" value="Show Top Clients">
    </form>

    {% if results %}
    <table>
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Rentals Booked</th>
        </tr>
        {% for row in results %}
        <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
        </tr>
        {% endfor %}
    </table>
    {% endif %}

    <p><a href="{{ url_for('manager_dashboard') }}">Back to Dashboard</a></p>
</body>
</html>
